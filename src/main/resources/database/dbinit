DROP TABLE IF EXISTS Events;
DROP TABLE IF EXISTS TableCategory;
DROP TABLE IF EXISTS Table;
DROP TABLE IF EXISTS TableTableCategory;
DROP TABLE IF EXISTS EventsTableCategory;
CREATE TABLE IF NOT EXISTS Events(id VARCHAR(32) PRIMARY KEY, name VARCHAR(255) NOT NULL, title VARCHAR(255) NOT NULL, date NUMERIC NOT NULL, location VARCHAR(255) NOT NULL, description VARCHAR(255));
CREATE TABLE IF NOT EXISTS Table(id VARCHAR(32) PRIMARY KEY, seats INT NOT NULL, number INT NOT NULL);
CREATE TABLE IF NOT EXISTS TableCategory(id VARCHAR(32) PRIMARY KEY, price DOUBLE PRECISION NOT NULL, seats INT NOT NULL);
CREATE TABLE IF NOT EXISTS TableTableCategory (tableId REFERENCES Table(id) ON DELETE CASCADE, categoryId REFERENCES TableCategory(id) ON DELETE CASCADE, PRIMARY KEY (tableId, categoryId));
CREATE TABLE IF NOT EXISTS EventsTableCategory (eventId REFERENCES Events(id) ON DELETE CASCADE, categoryId REFERENCES TableCategory ON DELETE CASCADE, PRIMARY KEY (eventId, categoryId));